<%= render @post %>

<div class="comments-container">
    <h3>Comments</h3>
    <% @post.comments.includes([:author]).each do |comment| %>
        <div class="comments">
            <div class="comment-body">
                <p> <%= comment.author.name %>: <%= comment.text %> </p>
            </div>
        </div>
        <% if can? :destroy, Comment.find_by(author_id: comment.author_id, post_id: comment.post_id) %>
            <%= button_to 'Delete', user_post_comment_path(comment.author_id, comment.post_id, comment.id), method: :delete, class: 'btn btn-danger' %>
        <% end %>
    <% end %>
</div>

<%= render "comments/form" %>